(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();class CalculateHistory{constructor(t){this.history=[]}addHistory(t){this.history.push(t)}getHistory(){return this.history}removeAll(){this.history.length=0}}class Data{constructor(t,s){this.operand=t,this.result=s}getOperand(){return this.operand}getResult(){return this.result}}document.getElementById("equalOperator");const operands=document.getElementById("operands"),result=document.getElementById("result"),allBtn=document.querySelectorAll("button");let enterable=!0;const history=new CalculateHistory,btnCon=document.querySelector(".btnCon");document.addEventListener("DOMContentLoaded",e=>{refreshUI()});btnCon.addEventListener("click",e=>{const t=e.target.closest("button").textContent;t==="C"?(operands.innerHTML="",calculate()):t==="="?enterable&&operands.innerText!=""?(add(operands.innerText,result.innerText),operands.innerHTML="",result.style.fontSize="50px",keyCheck(e.key)):operands.style.color="#ef4444":t==="x"?(operands.innerHTML+="*",calculate()):t&&(result.style.fontSize="36px",operands.innerHTML+=t,calculate())});btnCon.addEventListener("mouseup",e=>{setTimeout(()=>{operands.style.color="#71717a"},200)});const numPattern=/^[0-9+\-*/=.()]*$/;document.addEventListener("keydown",e=>{e.preventDefault(),result.style.fontSize="36px",numPattern.test(e.key)&&(operands.innerHTML+=e.key,keyCheck(e.key),calculate()),e.key=="Backspace"&&(operands.innerHTML=operands.innerHTML.slice(0,-1),keyCheck(e.key),calculate()),e.key=="Enter"&&(enterable&&operands.innerHTML!=""?(add(operands.innerText,result.innerText),operands.innerHTML="",result.style.fontSize="50px",keyCheck(e.key)):operands.style.color="#ef4444")});document.addEventListener("keyup",e=>{e.key=="Enter"&&(operands.style.color="#71717a")});function calculate(){try{const val=eval(operands.innerHTML);val?result.innerHTML=val:result.innerHTML="0",enterable=!0,operands.style.color="#71717a"}catch(e){enterable=!1}}function keyCheck(e){allBtn.forEach(t=>{e=="*"?e="x":e=="Enter"?e="=":e=="Backspace"&&(e="C"),t.innerText.trim()===e&&(e=="C"?setTimeOut(t,"c","cPress"):e=="="?setTimeOut(t,"equals","equalsPress"):t.classList.contains("numBtn")||t.classList.contains("numBtnPress")?setTimeOut(t,"numBtn","numBtnPress"):setTimeOut(t,"operatorBtn","operatorBtnPress"))})}function setTimeOut(e,t,s){e.classList.remove(t),e.classList.add(s),setTimeout(()=>{e.classList.add(t),e.classList.remove(s)},200)}function add(e,t){const s=new Data(e,t);localStorage.setItem("History",JSON.stringify([...JSON.parse(localStorage.getItem("History")||"[]"),s])),refreshUI()}const ulEl=document.getElementById("ulEl"),emptyEl=document.querySelector(".empty");function refreshUI(){ulEl.innerHTML="",history.removeAll();let e=[];try{e=[...JSON.parse(localStorage.getItem("History"))]}catch(t){console.log("Error: "+t)}e.reverse(),e.length===0?emptyEl.classList.replace("hidden","block"):emptyEl.classList.replace("block","hidden"),e.forEach(t=>{const s=new Data(t.operand,t.result);history.addHistory(s)}),history.getHistory().forEach(t=>{const s=t.getOperand(),o=t.getResult();ulEl.innerHTML+=`
        <li class="text-right break-after-auto p-1 border-b border-zinc-600 max-w-48">
          <p class="text-zinc-500 text-xs tracking-wider">${s}</p>
          <p class="text-sm transition duration-2000 ">${o}</p>
        </li>
        `})}const historyEl=document.getElementById("history"),showBtn=document.getElementById("showBtn"),closeBtn=document.getElementById("closeBtn");showBtn.addEventListener("click",e=>{e.stopPropagation(),historyEl.classList.replace("translate-x-52","translate-x-0"),historyEl.focus()});closeBtn.addEventListener("click",e=>{historyEl.classList.replace("translate-x-0","translate-x-52")});document.addEventListener("click",e=>{historyEl.contains(e.target)||historyEl.classList.replace("translate-x-0","translate-x-52")});
